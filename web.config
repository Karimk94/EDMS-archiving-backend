<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <system.webServer>
        <handlers>
            <add name="httpplatformhandler" path="*" verb="*" modules="httpPlatform" resourceType="Unspecified" />
        </handlers>
        <httpPlatform processPath="%SystemDrive%\inetpub\wwwroot\edms_app\backend\venv\Scripts\python.exe"
                      arguments="app.py"
                      stdoutLogEnabled="true"
                      stdoutLogFile=".\python_logs.log"
                      startupTimeLimit="60">
            <environmentVariables>
                <!-- This environment variable points to your application's root -->
                <environmentVariable name="PYTHONPATH" value="%SystemDrive%\inetpub\wwwroot\edms_app\backend" />
                <!-- Add other environment variables from your .env file here for production -->
                <!-- 
                <environmentVariable name="FLASK_SECRET_KEY" value="your-production-secret-key" />
                <environmentVariable name="WSDL_URL" value="http://your-production-wsdl-url" />
                ... etc ...
                -->
            </environmentVariables>
        </httpPlatform>
    </system.webServer>
</configuration>
